{% extends 'base.html' %}  <!-- Adjust the base template as needed -->
{% block title %}
  Health Records for {{ patient_details.patient.firstName }} {{ patient_details.patient.lastName }}
{% endblock %}
{% block content %}
{% if patient_details %}

  <h1 class="custom-h1">Health Records</h1>

  <div class="card shadow">
    <div class="card-body">

      <h2 class="card-title">{{ patient_details.patient.firstName }} {{ patient_details.patient.lastName }}</h2>

      <!-- Display health record details here -->
      <p>Body Temperature: {{ patient_details.temperature }}</p>
      <p>Blood Pressure: {{ patient_details.blood_pressure }}</p>
      <p>Heart Rate: {{ patient_details.heart_rate }}</p>
      <p>Respiratory Rate: {{ patient_details.respiratory_rate}}</p>
      <p>Date of Birth: {{ patient_details.dob }}</p>
      <p>Age: {{ patient_details.age }}</p>
      <p>Sex: {{ patient_details.get_sex_display }}</p>
      <p>Chest Pain Type: {{ patient_details.cp }}</p>
      <p>Resting Blood Pressure: {{ patient_details.trestbps }}</p>
      <p>Serum Cholesterol: {{ patient_details.chol }}</p>
      <p>Fasting Blood Sugar: {{ patient_details.get_fbs_display }}</p>
      <p>Resting Electrocardiographic Results: {{ patient_details.restecg }}</p>
      <p>Maximum Heart Rate Achieved: {{ patient_details.thalach }}</p>
      <p>Exercise Induced Angina: {{ patient_details.get_exang_display }}</p>
      <p>ST Depression Induced by Exercise Relative to Rest: {{ patient_details.oldpeak }}</p>
      <p>Slope of the Peak Exercise ST Segment: {{ patient_details.slope }}</p>
      <p>Number of Major Vessels Colored by Fluoroscopy: {{ patient_details.ca }}</p>
      <p>Thalassemia: {{ patient_details.thal }}</p>
      <p>Target: {{ patient_details.target }}</p>
      <p>Date Modified: {{ patient_details.dateModified }}</p>

      <!-- Add a button to edit health records -->
      <a href="{% url 'predict_health_records' patient_details.patient.id %}" class="btn btn-primary">Analyze Health Records</a>
      {% else %}
  <div class="alert alert-success" role="alert">
    No previous records
  </div>

<!-- Form for filling in patient details -->
<form method="POST" action="{% url 'view_health_records' patient_id=patient_id %}">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
{% endif %}
    </div>
  </div>
{% endblock %}
